"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var color_1 = require("@sanity/color");
var ui_1 = require("@sanity/ui");
var react_1 = __importDefault(require("react"));
var useTypedSelector_1 = __importDefault(require("../../hooks/useTypedSelector"));
var assets_1 = require("../../modules/assets");
var tags_1 = require("../../modules/tags");
var TagViewHeader_1 = __importDefault(require("../TagViewHeader"));
var TagsVirtualized_1 = __importDefault(require("../TagsVirtualized"));
var TagView = function () {
    var numPickedAssets = useTypedSelector_1.default(assets_1.selectAssetsPickedLength);
    var tags = useTypedSelector_1.default(tags_1.selectTags);
    var fetching = useTypedSelector_1.default(function (state) { return state.tags.fetching; });
    var fetchCount = useTypedSelector_1.default(function (state) { return state.tags.fetchCount; });
    var fetchComplete = fetchCount !== -1;
    var hasTags = !fetching && (tags === null || tags === void 0 ? void 0 : tags.length) > 0;
    var hasPicked = !!(numPickedAssets > 0);
    return (react_1.default.createElement(ui_1.Flex, { direction: "column", flex: 1, style: {
            // background: hues.gray[950].hex,
            background: color_1.black.hex,
            height: '100%'
        } },
        react_1.default.createElement(TagViewHeader_1.default, { allowCreate //
            : true, light: hasPicked, title: hasPicked ? 'Tags (in selection)' : 'Tags' }),
        fetchComplete && !hasTags && (react_1.default.createElement(ui_1.Box, { padding: 3 },
            react_1.default.createElement(ui_1.Text, { size: 1, style: { color: color_1.hues.gray[700].hex } },
                react_1.default.createElement("em", null, "No tags")))),
        hasTags && react_1.default.createElement(TagsVirtualized_1.default, null)));
};
exports.default = TagView;
//# sourceMappingURL=index.js.map