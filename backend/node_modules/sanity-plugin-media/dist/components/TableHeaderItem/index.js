"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var icons_1 = require("@sanity/icons");
var ui_1 = require("@sanity/ui");
var react_1 = __importDefault(require("react"));
var react_redux_1 = require("react-redux");
var useTypedSelector_1 = __importDefault(require("../../hooks/useTypedSelector"));
var assets_1 = require("../../modules/assets");
var TableHeaderItem = function (props) {
    var field = props.field, title = props.title;
    // Redux
    var dispatch = react_redux_1.useDispatch();
    var order = useTypedSelector_1.default(function (state) { return state.assets.order; });
    var isActive = order.field === field;
    // Callbacks
    var handleClick = function () {
        if (!field || !title) {
            return;
        }
        if (isActive) {
            var direction = order.direction === 'asc' ? 'desc' : 'asc';
            dispatch(assets_1.assetsActions.orderSet({ order: { field: field, direction: direction } }));
        }
        else {
            dispatch(assets_1.assetsActions.orderSet({ order: { field: field, direction: 'asc' } }));
        }
    };
    return (react_1.default.createElement(ui_1.Label, { muted: !field, size: 0 },
        react_1.default.createElement(ui_1.Box, { onClick: field ? handleClick : undefined, style: {
                cursor: field ? 'pointer' : 'default',
                display: 'inline',
                whiteSpace: 'nowrap'
            } },
            react_1.default.createElement("span", { style: {
                    marginRight: '0.4em'
                } }, title),
            isActive && (order === null || order === void 0 ? void 0 : order.direction) === 'asc' && react_1.default.createElement(icons_1.ChevronUpIcon, null),
            isActive && (order === null || order === void 0 ? void 0 : order.direction) === 'desc' && react_1.default.createElement(icons_1.ChevronDownIcon, null))));
};
exports.default = TableHeaderItem;
//# sourceMappingURL=index.js.map