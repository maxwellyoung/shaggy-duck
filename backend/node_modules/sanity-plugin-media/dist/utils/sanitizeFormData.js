"use strict";
// Recursively sanitize form data:
// - convert empty strings, undefined values and empty arrays to null (to correctly unset / delete fields)
// - trim whitespace on string fleids
Object.defineProperty(exports, "__esModule", { value: true });
var sanitizeFormData = function (formData) {
    return Object.keys(formData).reduce(function (acc, key) {
        var val = formData[key];
        // TODO: refactor
        if (typeof val === 'object' && val !== null && val.constructor !== Array) {
            acc[key] = sanitizeFormData(val);
        }
        else if (val === '' || typeof val === 'undefined' || (val === null || val === void 0 ? void 0 : val.length) === 0) {
            acc[key] = null;
        }
        else if (typeof val === 'string' && val) {
            acc[key] = formData[key].trim();
        }
        else {
            acc[key] = formData[key];
        }
        return acc;
    }, {});
};
exports.default = sanitizeFormData;
//# sourceMappingURL=sanitizeFormData.js.map