"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var operators_1 = require("rxjs/operators");
var debugThrottle = function (throttled) {
    return function (source) {
        return rxjs_1.iif(function () { return !!throttled; }, source.pipe(operators_1.delay(3000), operators_1.mergeMap(function (v) {
            if (Math.random() > 0.5) {
                return rxjs_1.throwError({
                    message: 'Test error',
                    statusCode: 500
                });
            }
            return rxjs_1.of(v);
        })), source);
    };
};
exports.default = debugThrottle;
//# sourceMappingURL=debugThrottle.js.map